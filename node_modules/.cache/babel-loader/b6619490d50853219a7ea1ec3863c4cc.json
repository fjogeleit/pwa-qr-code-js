{"ast":null,"code":"import QrScanner from 'qr-scanner';\nimport isUrl from 'is-url';\nQrScanner.WORKER_PATH = './worker/qr-scanner-worker.min.js';\nvar videoPlayer = document.querySelector('#player');\nvar dialog = document.querySelector('dialog');\nvar newCodeButton = document.querySelector('#next-button');\nvar qrText = document.querySelector('#qr-text');\n\nif (!dialog.showModal) {\n  dialogPolyfill.registerDialog(dialog);\n}\n\nnewCodeButton.addEventListener('click', function () {\n  dialog.close();\n  qrScan.start();\n});\nvar qrScan = new QrScanner(videoPlayer, function (result) {\n  if (isUrl(result)) {\n    window.open(result, '_blank');\n  }\n\n  qrText.innerHTML = result;\n  qrScan.stop();\n  dialog.showModal();\n});\nqrScan.start();\n/**\nconst supported = ('contacts' in navigator && 'ContactsManager' in window);\n\nif (supported) {\n  const button = document.querySelector('#button')\n\n  button.addEventListener('click', () => {\n    navigator.contacts\n      .select(['name', 'email', 'tel'], { multiple: true })\n      .then(console.table)\n      .catch(console.error)\n  })\n}\n**/","map":{"version":3,"sources":["/Users/f.jogeleit/Workspace/Other/pwa-qr-code-reader/src/index.js"],"names":["QrScanner","isUrl","WORKER_PATH","videoPlayer","document","querySelector","dialog","newCodeButton","qrText","showModal","dialogPolyfill","registerDialog","addEventListener","close","qrScan","start","result","window","open","innerHTML","stop"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,QAAlB;AAEAD,SAAS,CAACE,WAAV,GAAwB,mCAAxB;AAEA,IAAMC,WAAW,GAAGC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAApB;AACA,IAAMC,MAAM,GAAGF,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AAEA,IAAME,aAAa,GAAGH,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAtB;AACA,IAAMG,MAAM,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAf;;AAEA,IAAI,CAAEC,MAAM,CAACG,SAAb,EAAwB;AACtBC,EAAAA,cAAc,CAACC,cAAf,CAA8BL,MAA9B;AACD;;AAEDC,aAAa,CAACK,gBAAd,CAA+B,OAA/B,EAAwC,YAAM;AAC5CN,EAAAA,MAAM,CAACO,KAAP;AACAC,EAAAA,MAAM,CAACC,KAAP;AACD,CAHD;AAKA,IAAMD,MAAM,GAAG,IAAId,SAAJ,CAAcG,WAAd,EAA2B,UAAAa,MAAM,EAAI;AAClD,MAAIf,KAAK,CAACe,MAAD,CAAT,EAAmB;AACjBC,IAAAA,MAAM,CAACC,IAAP,CAAYF,MAAZ,EAAoB,QAApB;AACD;;AAEDR,EAAAA,MAAM,CAACW,SAAP,GAAmBH,MAAnB;AAEAF,EAAAA,MAAM,CAACM,IAAP;AACAd,EAAAA,MAAM,CAACG,SAAP;AACD,CATc,CAAf;AAWAK,MAAM,CAACC,KAAP;AAEA","sourcesContent":["import QrScanner from 'qr-scanner';\nimport isUrl from 'is-url';\n\nQrScanner.WORKER_PATH = './worker/qr-scanner-worker.min.js';\n\nconst videoPlayer = document.querySelector('#player');\nconst dialog = document.querySelector('dialog');\n\nconst newCodeButton = document.querySelector('#next-button');\nconst qrText = document.querySelector('#qr-text');\n\nif (! dialog.showModal) {\n  dialogPolyfill.registerDialog(dialog);\n}\n\nnewCodeButton.addEventListener('click', () => {\n  dialog.close();\n  qrScan.start();\n});\n\nconst qrScan = new QrScanner(videoPlayer, result => {\n  if (isUrl(result)) {\n    window.open(result, '_blank')\n  }\n\n  qrText.innerHTML = result;\n\n  qrScan.stop();\n  dialog.showModal();\n});\n\nqrScan.start();\n\n/**\nconst supported = ('contacts' in navigator && 'ContactsManager' in window);\n\nif (supported) {\n  const button = document.querySelector('#button')\n\n  button.addEventListener('click', () => {\n    navigator.contacts\n      .select(['name', 'email', 'tel'], { multiple: true })\n      .then(console.table)\n      .catch(console.error)\n  })\n}\n**/\n"]},"metadata":{},"sourceType":"module"}